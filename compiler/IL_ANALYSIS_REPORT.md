# üìä –ê–ù–ê–õ–ò–ó IL-–ö–û–î–ê –ö–û–ú–ü–ò–õ–Ø–¢–û–†–ê

## üìå –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ì–†–ê–ú–ú–´

### TEST 1: BasicVariables

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**
- ‚úÖ `BasicVariables` (–±–∞–∑–æ–≤—ã–π —Ç–∏–ø: `Object`)

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- ‚úÖ –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `.ctor()` (2 –≤–µ—Ä—Å–∏–∏ - –æ–¥–Ω–∞ —Å —Ç–µ–ª–æ–º, –æ–¥–Ω–∞ –ø—É—Å—Ç–∞—è)
- ‚ö†Ô∏è –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã Object (Equals, GetHashCode, ToString, Finalize)

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø–æ–ª—è:**
- ‚ùå –ù–µ—Ç –ø–æ–ª–µ–π –∫–ª–∞—Å—Å–∞ (–≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ)

**–õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ:**
- ‚úÖ [0] int32 (x)
- ‚úÖ [1] int32 (y)
- ‚úÖ [2] int32 (z)
- ‚úÖ [3] float64 (a)
- ‚úÖ [4] float64 (b)
- ‚úÖ [5] float64 (c)
- ‚úÖ [6] bool (flag)
- ‚úÖ [7] bool (result)

---

### TEST 2: WhileLoopDemo

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**
- ‚úÖ `WhileLoopDemo` (–±–∞–∑–æ–≤—ã–π —Ç–∏–ø: `Object`)

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- ‚úÖ –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `.ctor()` (2 –≤–µ—Ä—Å–∏–∏)
- ‚úÖ –ú–µ—Ç–æ–¥ `countDown(int32)` 
- ‚ö†Ô∏è –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã Object

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø–æ–ª—è:**
- ‚úÖ `public Int32 sum`
- ‚úÖ `public Int32 counter`

**–õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –º–µ—Ç–æ–¥–µ countDown:**
- ‚úÖ [0] int32 (current)
- ‚úÖ [1] int32 (total)

---

## üìå –ö–û–ù–°–¢–†–£–ö–¢–û–† –ê–ù–ê–õ–ò–ó

### TEST 1: BasicVariables

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å —Ç–µ–ª–æ–º:**

‚úÖ **–í—ã–∑–æ–≤ base .ctor():**
```
IL_0000: ldarg.0     
IL_0001: call        (token: 0x0A000001)
```
‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–û** - –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `ldarg.0` –∏ –≤—ã–∑–æ–≤–∞ –±–∞–∑–æ–≤–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞

‚úÖ **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:**
```
IL_0006: ldc.i4.s    10
IL_0008: stloc.0     
IL_0009: ldc.i4.s    20
IL_000B: stloc.1     
...
```
‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–û** - –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `add`, `sub`, `mul`, `div`
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `and`, `or`, `xor` –¥–ª—è –±—É–ª–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

‚úÖ **Return –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:**
```
IL_007D: ret         
```
‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–û** - –º–µ—Ç–æ–¥ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ `ret`

‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê:** –ï—Å—Ç—å –≤—Ç–æ—Ä–æ–π –ø—É—Å—Ç–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:
```
CONSTRUCTOR: void .ctor()
  MaxStack: 8
  Local Variables: 0
  IL Code:
    IL_0000: ldarg.0     
    IL_0001: call        (token: 0x0A000001)
    IL_0006: ret         
```
–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –Ω–æ –Ω–∞–ª–∏—á–∏–µ –¥–≤—É—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—É—Ç–∞–Ω–∏—Ü—É.

---

### TEST 2: WhileLoopDemo

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å —Ç–µ–ª–æ–º:**

‚úÖ **–í—ã–∑–æ–≤ base .ctor():**
```
IL_0000: ldarg.0     
IL_0001: call        (token: 0x0A000001)
```
‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–û**

‚úÖ **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–µ–π:**
```
IL_0006: ldarg.0     
IL_0007: ldc.i4.0    
IL_0008: stfld       (token: 0x04000001)  // sum
IL_000D: ldarg.0     
IL_000E: ldc.i4.0    
IL_000F: stfld       (token: 0x04000002)  // counter
```
‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–û** - –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º `stfld` –µ—Å—Ç—å `ldarg.0`

‚ùå **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–µ—Ç–∫–∏ –≤ —Ü–∏–∫–ª–µ while**

```
IL_0022: ldarg.0     
IL_0023: ldfld       (token: 0x04000002)  // counter
IL_0028: ldc.i4.s    10
IL_002A: nop         
IL_002C: brfalse     IL_0026    // ‚ùå –ü–ï–†–ï–•–û–î –ù–ê–ó–ê–î!
```

**–ü–†–û–ë–õ–ï–ú–ê:** 
- `IL_002C` –ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ `IL_0026`, –Ω–æ `IL_0026` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è **–î–û** –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ª–æ–≤–∏—è
- –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É —Ü–∏–∫–ª–∞
- **–ì–õ–ê–í–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê:** –ü–æ—Å–ª–µ `ldc.i4.s 10` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `clt` (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ), –Ω–æ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –µ—Å—Ç—å `nop` –∏ –∑–∞—Ç–µ–º `brfalse`
- –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º–µ—Ç–æ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è `Less` –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π IL-–∫–æ–¥

**–û–ñ–ò–î–ê–ï–ú–û–ï:**
```
IL_XXXX: [–º–µ—Ç–∫–∞ –Ω–∞—á–∞–ª–∞ —Ü–∏–∫–ª–∞]
IL_YYYY: ldarg.0
IL_YYYY: ldfld counter
IL_YYYY: ldc.i4.s 10
IL_YYYY: clt              // —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (–û–¢–°–£–¢–°–¢–í–£–ï–¢ –í –¢–ï–ö–£–©–ï–ú –ö–û–î–ï!)
IL_YYYY: brfalse IL_ZZZZ  // –µ—Å–ª–∏ false, –≤—ã—Ö–æ–¥–∏–º
// —Ç–µ–ª–æ —Ü–∏–∫–ª–∞
IL_YYYY: br IL_XXXX       // –ø–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–∞—á–∞–ª—É
IL_ZZZZ: [–º–µ—Ç–∫–∞ –∫–æ–Ω—Ü–∞ —Ü–∏–∫–ª–∞]
```

‚ùå **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê 2: –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –≤ –ø–µ—Ä–µ—Ö–æ–¥–µ**

```
IL_0052: br          IL_FFFFFFCB
```

**–ü–†–û–ë–õ–ï–ú–ê:**
- `IL_FFFFFFCB` –≤ hex = `-53` –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ
- –≠—Ç–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ, —á—Ç–æ **–ù–ï–î–û–ü–£–°–¢–ò–ú–û** –≤ IL
- –ü–µ—Ä–µ—Ö–æ–¥ –¥–æ–ª–∂–µ–Ω –≤–µ—Å—Ç–∏ –Ω–∞ –≤–∞–ª–∏–¥–Ω—É—é –º–µ—Ç–∫—É –≤–ø–µ—Ä–µ–¥ –∏–ª–∏ –Ω–∞–∑–∞–¥, –Ω–æ –Ω–µ –Ω–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ

‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê:** –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ª–µ–π:
```
IL_0006: ldarg.0     
IL_0007: ldc.i4.0    
IL_0008: stfld       (token: 0x04000001)  // sum = 0
...
IL_0014: ldarg.0     
IL_0015: ldc.i4.0    
IL_0016: stfld       (token: 0x04000002)  // counter = 0
IL_001B: ldarg.0     
IL_001C: ldc.i4.0    
IL_001D: stfld       (token: 0x04000002)  // counter = 0 (–î–£–ë–õ–ò–ö–ê–¢!)
IL_0022: ldarg.0     
IL_0023: ldc.i4.0    
IL_0024: stfld       (token: 0x04000001)  // sum = 0 (–î–£–ë–õ–ò–ö–ê–¢!)
```
–ü–æ–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –¥–≤–∞–∂–¥—ã, —á—Ç–æ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ.

---

## üìå –ú–ï–¢–û–î–´ –ê–ù–ê–õ–ò–ó

### TEST 2: –ú–µ—Ç–æ–¥ countDown(int32)

‚ùå **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê 3: –ù–µ–¥–æ–ø—É—Å—Ç–∏–º–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `break`**

```
IL_0000: nop         
IL_0002: break       // ‚ùå –ù–ï–î–û–ü–£–°–¢–ò–ú–û –í IL!
IL_0003: nop         
```

**–ü–†–û–ë–õ–ï–ú–ê:**
- `break` - —ç—Ç–æ **–ù–ï –≤–∞–ª–∏–¥–Ω–∞—è IL –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**
- –í IL –Ω–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ `break`
- –≠—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ª–∏–±–æ —É–¥–∞–ª–µ–Ω–æ, –ª–∏–±–æ –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É

‚ùå **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê 4: –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –≤ –º–µ—Ç–æ–¥–µ**

```
IL_0009: ldloc.0     
IL_000A: ldc.i4.0    
IL_000B: nop         
IL_000D: brfalse     IL_000D    // ‚ùå –ü–ï–†–ï–•–û–î –ù–ê –°–ê–ú–£ –°–ï–ë–Ø!
```

**–ü–†–û–ë–õ–ï–ú–ê:**
- `IL_000D` –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ `IL_000D` (—Å–∞–º—É —Å–µ–±—è)
- –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç **–±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª** - –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–∏—Å–Ω–µ—Ç
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: –µ—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ false, –ø–µ—Ä–µ—Ö–æ–¥ –∫ –∫–æ–Ω—Ü—É —Ü–∏–∫–ª–∞

‚ùå **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê 5: –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –≤ –ø–µ—Ä–µ—Ö–æ–¥–µ**

```
IL_001A: br          IL_FFFFFFEA
```

**–ü–†–û–ë–õ–ï–ú–ê:**
- `IL_FFFFFFEA` = `-22` –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ
- –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ **–ù–ï–î–û–ü–£–°–¢–ò–ú–û**

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:**
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä `n` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (—á–µ—Ä–µ–∑ `ldarg.1`, –Ω–æ –Ω–µ –≤–∏–¥–Ω–æ –≤ –≤—ã–≤–æ–¥–µ)

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:**
```
IL_0009: ldloc.0     // current
IL_0012: ldloc.1     // total
```
‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–û**

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:**
```
IL_0006: stloc.0     
IL_0008: stloc.1     
```
‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–û**

‚úÖ **Return –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:**
```
IL_001F: ldloc.1     
IL_0020: ret         
```
‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–û** - –ø–µ—Ä–µ–¥ `ret` –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –Ω–∞ —Å—Ç–µ–∫

---

## üìå –ù–ê–ô–î–ï–ù–ù–´–ï –û–®–ò–ë–ö–ò

### ‚ùå –û–®–ò–ë–ö–ê 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–µ—Ç–∫–∏ –≤ —Ü–∏–∫–ª–µ while (TEST 2, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ `WhileLoopDemo` —Ü–∏–∫–ª while –∏–º–µ–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–µ—Ç–æ–∫:
- `IL_002C: brfalse IL_0026` - –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –º–µ—Ç–∫—É, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –î–û –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ª–æ–≤–∏—è
- `IL_0052: br IL_FFFFFFCB` - –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ

**–°–ª–µ–¥—Å—Ç–≤–∏–µ:**
- –¶–∏–∫–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–∞–¥–∞–µ—Ç
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ:**

–í —Ñ–∞–π–ª–µ `kofe/compiler/EmitBackend/IL/ILEmitter.cs`, –º–µ—Ç–æ–¥ `EmitWhile`:

**–¢–ï–ö–£–©–ò–ô –ö–û–î (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ô):**
```csharp
private static void EmitWhile(BuildContext context, WhileStmt whileStmt)
{
    var startLabel = context.IL.DefineLabel();
    var endLabel = context.IL.DefineLabel();

    context.IL.MarkLabel(startLabel);  // ‚ùå –ú–µ—Ç–∫–∞ —Å—Ç–∞–≤–∏—Ç—Å—è –ü–ï–†–ï–î –ø—Ä–æ–≤–µ—Ä–∫–æ–π
    EmitExpression(context, whileStmt.Condition);
    context.IL.Emit(OpCodes.Brfalse, endLabel);
    EmitBlock(context, whileStmt.Body);
    context.IL.Emit(OpCodes.Br, startLabel);
    context.IL.MarkLabel(endLabel);
}
```

**–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ö–û–î:**
```csharp
private static void EmitWhile(BuildContext context, WhileStmt whileStmt)
{
    var startLabel = context.IL.DefineLabel();
    var endLabel = context.IL.DefineLabel();

    // –ú–µ—Ç–∫–∞ –Ω–∞—á–∞–ª–∞ —Ü–∏–∫–ª–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏—è)
    context.IL.MarkLabel(startLabel);
    
    // –≠–º–∏—Å—Å–∏—è —É—Å–ª–æ–≤–∏—è
    EmitExpression(context, whileStmt.Condition);
    
    // –ï—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ false, –≤—ã—Ö–æ–¥–∏–º –∏–∑ —Ü–∏–∫–ª–∞
    context.IL.Emit(OpCodes.Brfalse, endLabel);
    
    // –¢–µ–ª–æ —Ü–∏–∫–ª–∞
    EmitBlock(context, whileStmt.Body);
    
    // –ü–µ—Ä–µ—Ö–æ–¥ –æ–±—Ä–∞—Ç–Ω–æ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ —É—Å–ª–æ–≤–∏—è
    context.IL.Emit(OpCodes.Br, startLabel);
    
    // –ú–µ—Ç–∫–∞ –∫–æ–Ω—Ü–∞ —Ü–∏–∫–ª–∞
    context.IL.MarkLabel(endLabel);
}
```

**–ü–†–û–ë–õ–ï–ú–ê:** –ú–µ—Ç–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –Ω–æ **—É—Å–ª–æ–≤–∏–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ**. 

–í IL-–∫–æ–¥–µ –≤–∏–¥–Ω–æ:
```
IL_0022: ldarg.0     
IL_0023: ldfld       counter
IL_0028: ldc.i4.s    10
IL_002A: nop         // ‚ùå –í–º–µ—Å—Ç–æ clt!
IL_002C: brfalse     IL_0026
```

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π (`ldfld counter` –∏ `ldc.i4.s 10`) –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `clt` (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ), –Ω–æ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è `nop`.

**–ü–†–ò–ß–ò–ù–ê:** –ú–µ—Ç–æ–¥ `EmitCall` –¥–ª—è `counter.Less(Integer(10))` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç `EmitIntegerMethod("Less")`, –∏–ª–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

**–†–ï–®–ï–ù–ò–ï:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤ –º–µ—Ç–æ–¥–µ `EmitCall` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ target –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ (`EmitIntegerMethod`, `EmitRealMethod`).

---

### ‚ùå –û–®–ò–ë–ö–ê 2: –ù–µ–¥–æ–ø—É—Å—Ç–∏–º–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `break` (TEST 2, –º–µ—Ç–æ–¥ countDown)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–í –º–µ—Ç–æ–¥–µ `countDown` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `break`, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ IL:
```
IL_0002: break       // ‚ùå –ù–ï–î–û–ü–£–°–¢–ò–ú–û
```

**–°–ª–µ–¥—Å—Ç–≤–∏–µ:**
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- IL-–∫–æ–¥ –Ω–µ–≤–∞–ª–∏–¥–µ–Ω

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ:**

–ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏, –≥–¥–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è `break`. –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –ø–∞—Ä—Å–µ—Ä–µ –∏–ª–∏ –≤ —ç–º–∏—Ç—Ç–µ—Ä–µ. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
1. `kofe/compiler/EmitBackend/IL/ILEmitter.cs` - –º–µ—Ç–æ–¥ `EmitStatement`
2. –ü–∞—Ä—Å–µ—Ä - –≤–æ–∑–º–æ–∂–Ω–æ, `break` –ø–∞—Ä—Å–∏—Ç—Å—è, –Ω–æ –Ω–µ –¥–æ–ª–∂–µ–Ω —ç–º–∏—Ç–∏—Ç—å—Å—è –≤ IL

**–†–ï–®–ï–ù–ò–ï:** –£–¥–∞–ª–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é `break` –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `br` –∫ –∫–æ–Ω—Ü—É —Ü–∏–∫–ª–∞).

---

### ‚ùå –û–®–ò–ë–ö–ê 3: –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ (TEST 2, –º–µ—Ç–æ–¥ countDown)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–í –º–µ—Ç–æ–¥–µ `countDown` —É—Å–ª–æ–≤–∏–µ —Ü–∏–∫–ª–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–º—É —Å–µ–±—è:
```
IL_000D: brfalse     IL_000D    // ‚ùå –ü–ï–†–ï–•–û–î –ù–ê –°–ê–ú–£ –°–ï–ë–Ø
```

**–°–ª–µ–¥—Å—Ç–≤–∏–µ:**
- –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–∏—Å–∞–µ—Ç

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ:**

–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º –∂–µ –º–µ—Ç–æ–¥–µ `EmitWhile`. –ù—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ:
1. –ú–µ—Ç–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è **–î–û** –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
2. –ú–µ—Ç–∫–∞ `endLabel` –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–∑–º–µ—á–µ–Ω–∞ **–ü–ï–†–ï–î** –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π `brfalse`

**–ü–†–û–í–ï–†–ö–ê:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `context.IL.MarkLabel(endLabel)` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è **–ü–ï–†–ï–î** `context.IL.Emit(OpCodes.Brfalse, endLabel)`.

---

### ‚ùå –û–®–ò–ë–ö–ê 4: –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Å–º–µ—â–µ–Ω–∏—è –≤ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–í –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Å–º–µ—â–µ–Ω–∏—è:
- `IL_0052: br IL_FFFFFFCB` (–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä)
- `IL_001A: br IL_FFFFFFEA` (–º–µ—Ç–æ–¥ countDown)

**–°–ª–µ–¥—Å—Ç–≤–∏–µ:**
- IL-–∫–æ–¥ –Ω–µ–≤–∞–ª–∏–¥–µ–Ω
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ:**

–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –º–µ—Ç–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è. –ù—É–∂–Ω–æ:
1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –º–µ—Ç–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `DefineLabel()` **–î–û** –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `MarkLabel()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è **–ü–ï–†–ï–î** –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞ –Ω–µ–≥–æ —Å—Å—ã–ª–∞—é—Ç—Å—è
3. **–ì–õ–ê–í–ù–û–ï:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —É—Å–ª–æ–≤–∏–π —Å—Ä–∞–≤–Ω–µ–Ω–∏—è - —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `EmitCall` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (`Less`, `Greater`, etc.)
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–µ—Ä–µ—Ö–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–µ—Ç–∫–∏

**–†–ï–®–ï–ù–ò–ï:** –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –ª–æ–≥–∏–∫—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ—Ç–æ–∫ –≤ `EmitWhile`:

```csharp
private static void EmitWhile(BuildContext context, WhileStmt whileStmt)
{
    var startLabel = context.IL.DefineLabel();
    var endLabel = context.IL.DefineLabel();

    // –°–ù–ê–ß–ê–õ–ê –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –º–µ—Ç–∫–∏, –ü–û–¢–û–ú –∏—Å–ø–æ–ª—å–∑—É–µ–º
    
    // –ú–µ—Ç–∫–∞ –Ω–∞—á–∞–ª–∞ —Ü–∏–∫–ª–∞
    context.IL.MarkLabel(startLabel);
    
    // –£—Å–ª–æ–≤–∏–µ
    EmitExpression(context, whileStmt.Condition);
    
    // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –∫–æ–Ω—Ü—É, –µ—Å–ª–∏ false
    context.IL.Emit(OpCodes.Brfalse, endLabel);
    
    // –¢–µ–ª–æ —Ü–∏–∫–ª–∞
    EmitBlock(context, whileStmt.Body);
    
    // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–∞—á–∞–ª—É
    context.IL.Emit(OpCodes.Br, startLabel);
    
    // –ú–µ—Ç–∫–∞ –∫–æ–Ω—Ü–∞ —Ü–∏–∫–ª–∞ (–í–ê–ñ–ù–û: –ø–æ—Å–ª–µ –≤—Å–µ—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤)
    context.IL.MarkLabel(endLabel);
}
```

---

### ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê 5: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–í –æ–±–æ–∏—Ö —Ç–µ—Å—Ç–∞—Ö –µ—Å—Ç—å –¥–≤–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ - –æ–¥–∏–Ω —Å —Ç–µ–ª–æ–º, –æ–¥–∏–Ω –ø—É—Å—Ç–æ–π.

**–°–ª–µ–¥—Å—Ç–≤–∏–µ:**
- –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—É—Ç–∞–Ω–∏—Ü—É
- –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ –Ω–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ:**

–í —Ñ–∞–π–ª–µ `kofe/compiler/EmitBackend/Compiler.cs`, –º–µ—Ç–æ–¥ `CreateEntryPoint`:

**–ü–†–û–ë–õ–ï–ú–ê:** –°–æ–∑–¥–∞–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è entry –∫–ª–∞—Å—Å–∞. –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ª–∏ –æ–Ω –¥–≤–∞–∂–¥—ã.

---

## üìå –û–ë–©–ê–Ø –û–¶–ï–ù–ö–ê

### TEST 1: BasicVariables

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ï–°–¢–¨ –û–®–ò–ë–ö–ò** (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ)

**–î–µ—Ç–∞–ª–∏:**
- ‚úÖ –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤ —Ü–µ–ª–æ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- ‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚ö†Ô∏è –ï—Å—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** ‚úÖ **–ü–û–ß–¢–ò –ì–û–¢–û–í–û** - –Ω—É–∂–Ω–∞ –Ω–µ–±–æ–ª—å—à–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

---

### TEST 2: WhileLoopDemo

**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ö–†–ò–¢–ò–ß–ù–û –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û**

**–î–µ—Ç–∞–ª–∏:**
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–µ—Ç–∫–∏ –≤ —Ü–∏–∫–ª–µ while (–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä)
- ‚ùå –ù–µ–¥–æ–ø—É—Å—Ç–∏–º–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `break` (–º–µ—Ç–æ–¥ countDown)
- ‚ùå –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ (–º–µ—Ç–æ–¥ countDown)
- ‚ùå –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Å–º–µ—â–µ–Ω–∏—è –≤ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö
- ‚ö†Ô∏è –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ª–µ–π

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** ‚ùå **–ù–ï –ì–û–¢–û–í–û** - —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–µ—Ä—å–µ–∑–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞

---

## üîß –ß–¢–û –ù–£–ñ–ù–û –ò–°–ü–†–ê–í–ò–¢–¨ –í –ö–û–ú–ü–ò–õ–Ø–¢–û–†–ï

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö–†–ò–¢–ò–ß–ù–û):

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –º–µ—Ç–æ–∫ –≤ —Ü–∏–∫–ª–∞—Ö while**
   - –§–∞–π–ª: `kofe/compiler/EmitBackend/IL/ILEmitter.cs`
   - –ú–µ—Ç–æ–¥: `EmitWhile`
   - –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Å–æ–∑–¥–∞—é—Ç—Å—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Å–º–µ—â–µ–Ω–∏—è

2. **–£–¥–∞–ª–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ `break`**
   - –ù–∞–π—Ç–∏, –≥–¥–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è `break`
   - –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É

3. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ü–∏–∫–ª—ã**
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `brfalse` –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –º–µ—Ç–∫—É (–∫–æ–Ω–µ—Ü —Ü–∏–∫–ª–∞, –∞ –Ω–µ –Ω–∞ —Å–∞–º—É —Å–µ–±—è)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–ê–ñ–ù–û):

4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–æ—á–µ–º—É —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥–≤–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
   - –£–±—Ä–∞—Ç—å –ª–∏—à–Ω–∏–π

5. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ª–µ–π**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ª–µ–π –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ

---

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ –ü–†–ê–í–ò–õ–¨–ù–û

1. ‚úÖ –í—ã–∑–æ–≤ –±–∞–∑–æ–≤–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ (`ldarg.0` + `call`)
2. ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
3. ‚úÖ –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (`add`, `sub`, `mul`, `div`)
4. ‚úÖ –ë—É–ª–µ–≤—ã –æ–ø–µ—Ä–∞—Ü–∏–∏ (`and`, `or`, `xor`)
5. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π (`ldfld`, `stfld`)
6. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (`ldloc`, `stloc`)
7. ‚úÖ Return –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –º–µ—Ç–æ–¥–∞—Ö
8. ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ (–∫—Ä–æ–º–µ –º–µ—Ç–æ–∫ –≤ —Ü–∏–∫–ª–∞—Ö)

---

## üìù –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** –Ω–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–∞—Ö –ø–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é IL-–∫–æ–¥–∞** –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)
3. **–î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ü–∏–∫–ª–æ–≤ while
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IL-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞

---

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** $(date)
**–í–µ—Ä—Å–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞:** –¢–µ–∫—É—â–∞—è (EmitBackend)
**–°—Ç–∞—Ç—É—Å:** ‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

